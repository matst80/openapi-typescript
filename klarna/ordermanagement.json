{"definitions":{"Addon":{"type":"object","required":["price","type"],"properties":{"external_id":{"description":"The ID provided by the TMS","type":"string"},"price":{"description":"The price of the add-on","format":"int64","minimum":0,"type":"integer"},"type":{"description":"The type of the add-on, e.g. sms or entry-code","type":"string"},"user_input":{"description":"The text provided by the user","type":"string"}}},"Address":{"type":"object","required":["country","street_address"],"properties":{"city":{"description":"City","type":"string"},"country":{"description":"Country","type":"string"},"postal_code":{"description":"Postal code","type":"string"},"region":{"description":"Region","type":"string"},"street_address":{"description":"The street address","type":"string"},"street_address__2":{"description":"Additional street address","type":"string"}}},"Cancel not allowed error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"CANCEL_NOT_ALLOWED","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"Capture":{"type":"object","properties":{"billing_address":{"$ref":"#/definitions/address","description":"Billing address for the capture."},"capture_id":{"description":"The capture id. Generated when the capture is created.","example":"4ba29b50-be7b-44f5-a492-113e6a865e22","type":"string"},"captured_amount":{"description":"The captured amount in minor units.","format":"int64","minimum":1,"type":"integer"},"captured_at":{"description":"The time of the capture. Specified in ISO 8601.","example":"2015-11-19T01:51:17.000Z","format":"date-time","type":"string"},"description":{"description":"Description of the capture shown to the customer.","example":"Order has been shipped","type":"string"},"klarna_reference":{"description":"Customer friendly reference id, used as a reference when communicating with the customer.","example":"K4MADNY-1","type":"string"},"order_lines":{"description":"List of order lines for the capture shown to the customer.","items":{"$ref":"#/definitions/order_line"},"type":"array"},"reference":{"description":"Internal reference to the capture which will be included in the settlement files. Max length is 255 characters.","maxLength":255,"minLength":0,"type":"string"},"refunded_amount":{"description":"Refunded amount for this capture in minor units.","example":0,"format":"int64","type":"integer"},"shipping_address":{"$ref":"#/definitions/address","description":"Shipping address for the capture"},"shipping_info":{"description":"Shipping information for this capture.","items":{"$ref":"#/definitions/shipping_info"},"type":"array"}}},"Capture not allowed error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"CAPTURE_NOT_ALLOWED","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"CaptureObject":{"type":"object","required":["captured_amount"],"properties":{"captured_amount":{"description":"The captured amount in minor units.","format":"int64","maximum":100000000,"minimum":0,"type":"integer"},"description":{"description":"Description of the capture shown to the customer. Maximum 255 characters.","maxLength":255,"minLength":0,"type":"string"},"order_lines":{"description":"Order lines for this capture. Maximum 1000 items.","items":{"$ref":"#/definitions/order_line"},"maxItems":1000,"minItems":0,"type":"array"},"reference":{"description":"Internal reference to the capture. This will be included in the settlement files. Max length is 255 characters.","maxLength":255,"minLength":0,"type":"string"},"shipping_delay":{"description":"Delay before the order will be shipped. Use for improving the customer experience regarding payments. This field is currently not returned when reading the order. Minimum: 0. Please note: to be able to submit values larger than 0, this has to be enabled in your merchant account. Please contact Klarna for further information.","format":"int64","minimum":0,"type":"integer"},"shipping_info":{"description":"Shipping information for this capture. Maximum 500 items.","items":{"$ref":"#/definitions/shipping_info"},"maxItems":500,"minItems":0,"type":"array"}}},"CarrierProduct":{"type":"object","properties":{"identifier":{"description":"Id of carrier product","type":"string"},"name":{"description":"Name of carrier product","type":"string"}}},"ErrorMessageDto":{"type":"object","properties":{"correlation_id":{"type":"string"},"error_code":{"type":"string"},"error_messages":{"items":{"type":"string"},"type":"array"}}},"ExtendDueDateOptions":{"type":"object","properties":{"currency":{"description":"The currency for the fees. Specified in ISO 4217 format.","example":"usd","type":"string"},"options":{"description":"The available options and corresponding fees for extending the due date","items":{"$ref":"#/definitions/OptionDto"},"type":"array"}}},"ExtendDueDateRequest":{"type":"object","required":["number_of_days"],"properties":{"number_of_days":{"description":"Number of days to extend the due date.","format":"int32","type":"integer"}}},"InitialPaymentMethodDto":{"type":"object","properties":{"description":{"description":"The description of the initial payment method.","example":"Slice it (Fixed Payments)","type":"string"},"number_of_installments":{"description":"The number of installments (if applicable).","example":3,"format":"int32","type":"integer"},"type":{"description":"The type of the initial payment method. One of INVOICE, FIXED_AMOUNT, FIXED_AMOUNT_BY_CARD (non Australia region), PAY_LATER_IN_PARTS (Australia region), ACCOUNT, DIRECT_DEBIT, DIRECT_DEBIT, CARD, BANK_TRANSFER, PAY_IN_X, PAY_IN_X, INVOICE_BUSINESS, DEFERRED_INTEREST, FIXED_SUM_CREDIT, PAY_LATER_BY_CARD, MOBILEPAY, SWISH","example":"FIXED_AMOUNT","type":"string"}}},"Location":{"type":"object","properties":{"address":{"$ref":"#/definitions/Address","description":"The address of the location"},"id":{"description":"The location id","type":"string"},"name":{"description":"The display name of the location","type":"string"},"price":{"description":"The price for this location","format":"int64","minimum":0,"type":"integer"}}},"No such capture error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"NO_SUCH_CAPTURE","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"No such order error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"NO_SUCH_ORDER","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"Not allowed error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"NOT_ALLOWED","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"Not found error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"NOT_FOUND","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"OptionDto":{"type":"object","properties":{"amount":{"description":"The fee for extending the due date this many days. In minor units.","format":"int64","type":"integer"},"number_of_days":{"description":"How many days to extend the due date with","format":"int32","type":"integer"}}},"Order":{"type":"object","properties":{"billing_address":{"$ref":"#/definitions/address","description":"Customer billing address."},"captured_amount":{"description":"The total amount of all captures. In minor units.","example":0,"format":"int64","type":"integer"},"captures":{"description":"List of captures for this order.","items":{"$ref":"#/definitions/Capture"},"type":"array"},"created_at":{"description":"The time for the purchase. Formatted according to ISO 8601.","example":"2015-11-29T10:25:40.000Z","format":"date-time","type":"string"},"customer":{"$ref":"#/definitions/customer","description":"Information about the customer placing the order."},"expires_at":{"description":"Order expiration time. The order can only be captured until this time. Formatted according to ISO 8601.","example":"2015-12-04T10:26:06.000Z","format":"date-time","type":"string"},"fraud_status":{"description":"Fraud status for the order. Either ACCEPTED, PENDING or REJECTED.","example":"ACCEPTED","type":"string"},"initial_payment_method":{"$ref":"#/definitions/InitialPaymentMethodDto","description":"Initial payment method for this order"},"klarna_reference":{"description":"A Klarna generated reference that is shorter than the Klarna Order Id and is used as a customer friendly reference. It is most often used as a reference when Klarna is communicating with the customer with regard to payment statuses.","example":"K4MADNY","type":"string"},"locale":{"description":"The customers locale. Specified according to RFC 1766.","example":"en-us","type":"string"},"merchant_data":{"description":"Text field for storing data about the order. Set at order creation.","example":"Order metadata","type":"string"},"merchant_reference1":{"description":"The order number that the merchant should assign to the order. This is how a customer would reference the purchase they made. If supplied, it is labeled as the Order Number within post purchase communications as well as the Klarna App.","example":"10001","type":"string"},"merchant_reference2":{"description":"Can be used to store your internal reference to the order. This is generally an internal reference number that merchants use as alternate identifier that matches their internal ERP or Order Management system.","example":"501","type":"string"},"order_amount":{"description":"The order amount in minor units. That is the smallest currency unit available such as cent or penny.","format":"int64","type":"integer"},"order_id":{"description":"The unique order ID. Cannot be longer than 255 characters.","example":"f3392f8b-6116-4073-ab96-e330819e2c07","type":"string"},"order_lines":{"description":"An array of order_line objects. Each line represents one item in the cart.","items":{"$ref":"#/definitions/order_line"},"type":"array"},"original_order_amount":{"description":"The original order amount. In minor units.","format":"int64","type":"integer"},"purchase_country":{"description":"The purchase country. Formatted according to ISO 3166-1 alpha-2.","example":"us","type":"string"},"purchase_currency":{"description":"The currency for this order. Specified in ISO 4217 format.","example":"usd","type":"string"},"refunded_amount":{"description":"The total amount of refunded for this order. In minor units.","example":0,"format":"int64","type":"integer"},"refunds":{"description":"List of refunds for this order.","items":{"$ref":"#/definitions/Refund"},"type":"array"},"remaining_authorized_amount":{"description":"The remaining authorized amount for this order. To increase the `remaining_authorized_amount` the `order_amount` needs to be increased.","example":0,"format":"int64","type":"integer"},"selected_shipping_option":{"$ref":"#/definitions/SelectedShippingOptionDto","description":"The shipping option selected by the user."},"shipping_address":{"$ref":"#/definitions/address","description":"Customer shipping address."},"status":{"description":"The order status.","enum":["AUTHORIZED","PART_CAPTURED","CAPTURED","CANCELLED","EXPIRED","CLOSED"],"example":"AUTHORIZED","type":"string"}}},"Refund":{"type":"object","properties":{"credit_invoice":{"description":"Only relevant for B2B Orders. If the flag is set to true for an order with B2B_invoice as payment method, the customer will receive the refund as a credit invoice.","type":"boolean"},"description":{"description":"Description of the refund shown to the customer. Max length is 255 characters.","example":"The item was returned and the order refunded.","type":"string"},"order_lines":{"description":"Order lines for the refund shown to the customer. Optional but increases the customer experience. Maximum 1000 order lines.","items":{"$ref":"#/definitions/order_line"},"type":"array"},"reference":{"description":"Internal reference to the refund that is also included in the settlement files. Max length is 255 characters.","type":"string"},"refund_id":{"description":"The refund id. Generated when the refund is created.","example":"b2cb4f2e-2781-4359-80ad-555735ebb8d8","type":"string"},"refunded_amount":{"description":"Refunded amount in minor units.","format":"int64","type":"integer"},"refunded_at":{"description":"The time of the refund. ISO 8601.","example":"2015-12-04T15:17:40.000Z","format":"date-time","type":"string"}}},"Refund not allowed error message":{"type":"object","properties":{"correlation_id":{"description":"Correlation id. For searching logs.","example":"66782175-ae05-44fc-9eb3-eeceadbad271","type":"string"},"error_code":{"description":"Error code","example":"REFUND_NOT_ALLOWED","type":"string"},"error_messages":{"description":"Error messages","items":{"type":"string"},"type":"array"}}},"RefundObject":{"type":"object","required":["refunded_amount"],"properties":{"description":{"description":"Description of the refund shown to the customer. Max length is 255 characters.","maxLength":255,"minLength":0,"type":"string"},"order_lines":{"description":"Order lines for the refund shown to the customer. Optional but increases the customer experience. Maximum 1000 order lines.","items":{"$ref":"#/definitions/order_line"},"maxItems":1000,"minItems":0,"type":"array"},"reference":{"description":"Internal reference to the refund. This will be included in the settlement files. Max length is 255 characters.","maxLength":255,"minLength":0,"type":"string"},"refunded_amount":{"description":"Refunded amount in minor units.","format":"int64","maximum":100000000,"minimum":0,"type":"integer"}}},"SelectedShippingOptionDto":{"type":"object","properties":{"carrier":{"description":"The carrier for the selected shipping option","type":"string"},"carrier_product":{"$ref":"#/definitions/CarrierProduct","description":"The chosen timeslot of the selected shipping option"},"class":{"description":"The class of the selected shipping option","type":"string"},"id":{"description":"The id of the selected shipping option as provided by the TMS","type":"string"},"location":{"$ref":"#/definitions/Location","description":"The location of the selected shipping option"},"method":{"description":"The method of the selected shipping option","type":"string"},"name":{"description":"The display name of the selected shipping option","type":"string"},"price":{"description":"The price of the selected shipping option","format":"int64","minimum":0,"type":"integer"},"selected_addons":{"description":"Array consisting of add-ons selected by the consumer, may be empty","items":{"$ref":"#/definitions/Addon"},"type":"array"},"tax_amount":{"description":"The tax amount of the selected shipping option","format":"int64","minimum":0,"type":"integer"},"tax_rate":{"description":"The tax rate of the selected shipping option","format":"int64","minimum":0,"type":"integer"},"timeslot":{"$ref":"#/definitions/Timeslot","description":"The chosen timeslot of the selected shipping option"},"tms_reference":{"description":"The shipment_id provided by the TMS","type":"string"},"type":{"description":"The type of the selected shipping option","type":"string"}}},"Timeslot":{"type":"object","properties":{"cutoff":{"description":"Cutoff time for delivery","type":"string"},"end":{"description":"End of the timeslot","type":"string"},"id":{"description":"The timeslot id","type":"string"},"price":{"description":"Price","format":"int64","minimum":0,"type":"integer"},"start":{"description":"Start of the timeslot","type":"string"}}},"Update authorization":{"type":"object","required":["order_amount"],"properties":{"description":{"description":"Description of the change.","example":"Added charger","maxLength":255,"minLength":0,"type":"string"},"order_amount":{"description":"The new total order amount. Minor units.","format":"int64","maximum":100000000,"minimum":0,"type":"integer"},"order_lines":{"description":"New set of order lines for the order.","items":{"$ref":"#/definitions/order_line"},"maxItems":1000,"minItems":0,"type":"array"}}},"Update merchant references":{"type":"object","properties":{"merchant_reference1":{"description":"New merchant reference 1. Old reference will be overwritten if this field is present.","maxLength":255,"minLength":0,"type":"string"},"merchant_reference2":{"description":"New merchant reference 2. Old reference will be overwritten if this field is present.","maxLength":255,"minLength":0,"type":"string"}}},"UpdateConsumer":{"type":"object","properties":{"billing_address":{"$ref":"#/definitions/address","description":"Customer billing address."},"shipping_address":{"$ref":"#/definitions/address","description":"Customer shipping address."}}},"UpdateShippingInfo":{"type":"object","required":["shipping_info"],"properties":{"shipping_info":{"description":"New shipping info. Maximum: 500 items.","items":{"$ref":"#/definitions/shipping_info"},"maxItems":500,"minItems":1,"type":"array"}}},"address":{"type":"object","properties":{"attention":{"description":"‘Attn.’ - optional parameter. Maximum 255 characters.","example":"John Smith","maxLength":255,"minLength":0,"type":"string"},"city":{"description":"City. Maximum 200 characters.","example":"Knoxville","maxLength":200,"minLength":0,"type":"string"},"country":{"description":"Country. ISO 3166 alpha-2.","example":"us","type":"string"},"email":{"description":"E-mail address. Maximum 100 characters.","example":"klara.joyce@klarna.com","maxLength":100,"minLength":0,"type":"string"},"family_name":{"description":"Family name. Maximum 100 characters.","example":"Joyce","maxLength":100,"minLength":0,"type":"string"},"given_name":{"description":"Given name. Maximum 100 characters.","example":"Klara","maxLength":100,"minLength":0,"type":"string"},"organization_name":{"description":"Organization name (if applicable). Only applicable for B2B customers. Maximum 255 characters.","example":"Klarna","maxLength":255,"minLength":0,"type":"string"},"phone":{"description":"Phone number. Maximum 100 characters.","example":"1-555-555-5555","maxLength":100,"minLength":0,"type":"string"},"postal_code":{"description":"Postcode. Maximum 10 characters.","example":"12345","maxLength":10,"minLength":0,"type":"string"},"region":{"description":"State/Region. Required for US. Maximum 200 characters.","example":"TN","maxLength":200,"minLength":0,"type":"string"},"street_address":{"description":"First line of street address. Maximum 100 characters.","example":"Apartment 10","maxLength":100,"minLength":0,"type":"string"},"street_address2":{"description":"Second line of street address. Maximum 100 characters.","example":"1 Safeway","maxLength":100,"minLength":0,"type":"string"},"title":{"description":"Title. Between 0 and 20 characters.","example":"Mrs","maxLength":20,"minLength":0,"type":"string"}}},"customer":{"type":"object","properties":{"date_of_birth":{"description":"The customer date of birth. ISO 8601. ","example":"1981-09-06","format":"date","type":"string"},"national_identification_number":{"description":"The customer national identification number","type":"string"}}},"order_line":{"type":"object","required":["name","quantity","total_amount","unit_price"],"properties":{"image_url":{"description":"URL to an image that can be embedded in communications between Klarna and the customer. Maximum 1024 characters.","example":"https://yourstore.example/product/headphones.png","maxLength":1024,"minLength":0,"type":"string"},"merchant_data":{"description":"Data about the order line. Set at creation or update and returned when fetching the order through the API. Maximum 1024 characters.","example":"Some metadata","maxLength":1024,"minLength":0,"type":"string"},"name":{"description":"Descriptive item name. Maximum 255 characters.","maxLength":255,"minLength":0,"type":"string"},"product_identifiers":{"$ref":"#/definitions/product_identifiers","description":"Identifiers to better describe the product for improved risk assessment, support, presentation to consumers and promotional functionality."},"product_url":{"description":"URL to the product that can be used in communications between Klarna and the customer. Maximum 1024 characters.","example":"https://yourstore.example/product/headphones","maxLength":1024,"minLength":0,"type":"string"},"quantity":{"description":"Item quantity. Non-negative.","example":1,"format":"int64","minimum":0,"type":"integer"},"quantity_unit":{"description":"Unit used to describe the quantity. Maximum 10 characters.","example":"pcs.","maxLength":10,"minLength":0,"type":"string"},"reference":{"description":"Article number, SKU or similar identifier on the product variant level.","example":"75001","maxLength":255,"minLength":0,"type":"string"},"subscription":{"$ref":"#/definitions/subscription","description":"Subscription information, such a cadence and product name of the subscription that an order line item belongs to"},"tax_rate":{"description":"The tax rate in percent with two implicit decimals. Non-negative. Example: 2500 = 25%.","format":"int32","minimum":0,"type":"integer"},"total_amount":{"description":"Total amount including tax and discounts (`quantity * unit_price - total_discount_amount`).","format":"int64","maximum":100000000,"type":"integer"},"total_discount_amount":{"description":"The discount amount in minor units. Includes tax. Example: 1200 = $12. Max value: 100000000","example":0,"format":"int64","maximum":100000000,"minimum":0,"type":"integer"},"total_tax_amount":{"description":"The total tax amount in minor units. Negative if the order line type is discount. Example: 500 = $5.","format":"int64","maximum":100000000,"type":"integer"},"type":{"description":"Order line type. Matches: physical|discount|shipping_fee|sales_tax|store_credit|gift_card|digital|surcharge|return_fee","example":"physical","pattern":"physical|discount|shipping_fee|sales_tax|store_credit|gift_card|digital|surcharge|return_fee","type":"string"},"unit_price":{"description":"Unit price including tax without applying discounts in minor units.","format":"int64","maximum":100000000,"type":"integer"}}},"product_identifiers":{"type":"object","properties":{"brand":{"description":"The product's brand name as generally recognized by consumers. If no brand is available for a product, do not supply any value. Maximum 70 characters. Example: Intel","example":"Intel","maxLength":70,"minLength":0,"type":"string"},"category_path":{"description":"The product's category path as used in the merchant's webshop. Include the full and most detailed category and separate the segments with ' > '. Maximum 750 characters. Example: Electronics Store > Computers & Tablets > Desktops","example":"Electronics Store > Computers & Tablets > Desktops","maxLength":750,"minLength":0,"type":"string"},"color":{"description":"Color to be shown to the end customer (max 64 characters). Example: Denim blue","example":"Denim blue","maxLength":64,"minLength":0,"type":"string"},"global_trade_item_number":{"description":"The product's Global Trade Item Number (GTIN). Common types of GTIN are EAN, ISBN or UPC. Exclude dashes and spaces, where possible. Maximum 50 characters. Example: 735858293167","example":"735858293167","maxLength":50,"minLength":0,"type":"string"},"manufacturer_part_number":{"description":"The product's Manufacturer Part Number (MPN), which - together with the brand - uniquely identifies a product. Only submit MPNs assigned by a manufacturer and use the most specific MPN possible. Maximum 70 characters. Example: BOXNUC5CPYH","example":"BOXNUC5CPYH","maxLength":70,"minLength":0,"type":"string"},"size":{"description":"Size to be shown to the end customer (max 64 characters). Example: 4","example":"4","maxLength":64,"minLength":0,"type":"string"}}},"shipping_info":{"type":"object","properties":{"return_shipping_company":{"description":"Name of the shipping company for the return shipment (as specific as possible). Maximum 100 characters. Example: 'DHL US' and not only 'DHL'","example":"DHL US","maxLength":100,"minLength":0,"type":"string"},"return_tracking_number":{"description":"Tracking number for the return shipment. Maximum 100 characters.","example":"93456415674545679888","maxLength":100,"minLength":0,"type":"string"},"return_tracking_uri":{"description":"URL where the customer can track the return shipment. Maximum 1024 characters.","example":"http://shipping.example/findmypackage?93456415674545679888","maxLength":1024,"minLength":0,"type":"string"},"shipping_company":{"description":"Name of the shipping company (as specific as possible). Maximum 100 characters. Example: 'DHL US' and not only 'DHL'","example":"DHL US","maxLength":100,"minLength":0,"type":"string"},"shipping_method":{"description":"Shipping method. Allowed values matches (PickUpStore|Home|BoxReg|BoxUnreg|PickUpPoint|Own|Postal|DHLPackstation|Digital|Undefined|PickUpWarehouse|ClickCollect|PalletDelivery)","example":"Home","pattern":"(PickUpStore|Home|BoxReg|BoxUnreg|PickUpPoint|Own|Postal|DHLPackstation|Digital|Undefined|PickUpWarehouse|ClickCollect|PalletDelivery)","type":"string"},"tracking_number":{"description":"Tracking number for the shipment. Maximum 100 characters.","example":"63456415674545679874","maxLength":100,"minLength":0,"type":"string"},"tracking_uri":{"description":"URI where the customer can track their shipment. Maximum 1024 characters.","example":"http://shipping.example/findmypackage?63456415674545679874","maxLength":1024,"minLength":0,"type":"string"}}},"subscription":{"type":"object","required":["interval","interval_count","name"],"properties":{"interval":{"description":"The cadence unit. Matches: DAY|WEEK|MONTH|YEAR","example":"MONTH","pattern":"DAY|WEEK|MONTH|YEAR","type":"string"},"interval_count":{"description":"The number of intervals.","format":"int32","minimum":1,"type":"integer"},"name":{"description":"The name of the subscription product. Maximum 255 characters.","maxLength":255,"minLength":0,"type":"string"}}}},"host":"api.klarna.com","info":{"description":"API to handle order lifecycle","title":"Klarna Order Managment API","version":"1.0","x-document-metadata":{"copyright":"© 2005 - 2022 Klarna Bank AB (publ). All rights reserved.","trace-id":"cc6bf-cc6bf-96de7-klarna-api-production-s3-20220630150501","date-created":"2022-06-30T15:05:01Z"}},"paths":{"/ordermanagement/v1/orders/{order_id}":{"get":{"consumes":["*"],"description":"An order that has the given order id.","operationId":"getOrder","parameters":[{"name":"Klarna-Integrator","in":"header","required":false,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"200":{"description":"Order found","schema":{"$ref":"#/definitions/Order"}},"404":{"description":"Order not found","schema":{"$ref":"#/definitions/No such order error message"}}},"summary":"Get order","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/acknowledge":{"post":{"consumes":["*"],"description":"Acknowledge order","operationId":"acknowledgeOrder","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Order was acknowledged."},"403":{"description":"Update not allowed.","schema":{"$ref":"#/definitions/Not allowed error message"}},"404":{"description":"Order not found.","schema":{"$ref":"#/definitions/No such order error message"}}},"summary":"Acknowledge order","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/authorization":{"patch":{"description":"Set new order amount and order lines","operationId":"updateAuthorization","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Update authorization"}},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Authorization was updated."},"403":{"description":"Update authorization not allowed. Decision is based on order state and outcome of risk assessment.","schema":{"$ref":"#/definitions/Not allowed error message"}}},"summary":"Set new order amount and order lines","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/cancel":{"post":{"consumes":["*"],"description":"Cancel order","operationId":"cancelOrder","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Order was cancelled."},"403":{"description":"Cancel not allowed (e.g. order has captures or is closed)","schema":{"$ref":"#/definitions/Cancel not allowed error message"}}},"summary":"Cancel order","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/captures":{"get":{"consumes":["*"],"description":"Get all captures for one order","operationId":"getCaptures","parameters":[{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Captures found.","schema":{"items":{"$ref":"#/definitions/Capture"},"type":"array"}},"404":{"description":"Order not found.","schema":{"$ref":"#/definitions/No such order error message"}}},"summary":"Get all captures for one order","tags":["Captures"]},"post":{"consumes":["application/json"],"description":"Create capture","operationId":"captureOrder","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"description":"Capture request data","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CaptureObject"}},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"201":{"description":"Capture created","headers":{"Capture-Id":{"description":"The id of the created capture","type":"string"},"Location":{"description":"The URI at which the created capture can be found.","format":"uri","type":"string"}}},"403":{"description":"Capture not allowed.","schema":{"$ref":"#/definitions/Capture not allowed error message"}},"404":{"description":"Order not found.","schema":{"$ref":"#/definitions/No such order error message"}}},"summary":"Create capture","tags":["Captures"]}},"/ordermanagement/v1/orders/{order_id}/captures/{capture_id}":{"get":{"consumes":["*"],"description":"Get capture","operationId":"getCapture","parameters":[{"name":"capture_id","in":"path","description":"Capture id","required":true,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Capture found.","schema":{"$ref":"#/definitions/Capture"}},"404":{"description":"Order or capture not found.","schema":{"$ref":"#/definitions/No such order error message"}}},"summary":"Get capture","tags":["Captures"]}},"/ordermanagement/v1/orders/{order_id}/captures/{capture_id}/extend-due-date":{"patch":{"consumes":["application/json"],"description":"Extend the customer's payment due date","operationId":"extendDueDate","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/ExtendDueDateRequest"}},{"name":"capture_id","in":"path","description":"Capture id","required":true,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"204":{"description":"Due date was extended."},"403":{"description":"Extension of due date is not possible.","schema":{"$ref":"#/definitions/ErrorMessageDto"}},"404":{"description":"Order or capture not found.","schema":{"$ref":"#/definitions/ErrorMessageDto"}}},"summary":"Extend the customer's payment due date","tags":["Captures"]}},"/ordermanagement/v1/orders/{order_id}/captures/{capture_id}/extend-due-date-options":{"get":{"consumes":["application/json"],"description":"Get merchant fees for extension of due date due date","operationId":"getOptionsForExtendDueDate","parameters":[{"name":"capture_id","in":"path","description":"Capture id","required":true,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Available options found for capture.","schema":{"$ref":"#/definitions/ExtendDueDateOptions"}},"404":{"description":"Order or capture not found.","schema":{"$ref":"#/definitions/ErrorMessageDto"}}},"summary":"Get available options for extension of the customer's payment due date","tags":["Captures"]}},"/ordermanagement/v1/orders/{order_id}/captures/{capture_id}/shipping-info":{"post":{"consumes":["application/json"],"description":"Add shipping info to a capture","operationId":"appendShippingInfo","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/UpdateShippingInfo"}},{"name":"capture_id","in":"path","description":"Capture id","required":true,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"204":{"description":"Shipping information was appended."},"403":{"description":"Order has no captures.","schema":{"$ref":"#/definitions/Not allowed error message"}},"404":{"description":"Order or capture not found.","schema":{"$ref":"#/definitions/No such order error message"}}},"summary":"Add shipping info to a capture","tags":["Captures"]}},"/ordermanagement/v1/orders/{order_id}/captures/{capture_id}/trigger-send-out":{"post":{"consumes":["*"],"description":"Trigger resend of customer communication","operationId":"triggerSendOut","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"name":"capture_id","in":"path","description":"Capture id","required":true,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"204":{"description":"Send out was triggered"},"403":{"description":"Order has no captures.","schema":{"$ref":"#/definitions/Not allowed error message"}},"404":{"description":"Order or capture not found.","schema":{"$ref":"#/definitions/No such capture error message"}}},"summary":"Trigger resend of customer communication","tags":["Captures"]}},"/ordermanagement/v1/orders/{order_id}/customer-details":{"patch":{"description":"Update customer addresses","operationId":"updateConsumerDetails","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/UpdateConsumer"}},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Order consumer details were updated."},"403":{"description":"Update customer details not allowed. Decision is based on order state and outcome of risk assessment.","schema":{"$ref":"#/definitions/Not allowed error message"}}},"summary":"Update customer addresses","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/extend-authorization-time":{"post":{"consumes":["*"],"description":"Extend authorization time","operationId":"extendAuthorizationTime","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Authorization time was extended."},"403":{"description":"Extension of authorization time not allowed. The order being expired or cancelled are among the possible causes.","schema":{"$ref":"#/definitions/Not allowed error message"}}},"summary":"Extend authorization time","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/merchant-references":{"patch":{"description":"Update merchant references","operationId":"updateMerchantReferences","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Update merchant references"}},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Order merchant references were updated."},"403":{"description":"Can not update a cancelled order.","schema":{"$ref":"#/definitions/Not allowed error message"}}},"summary":"Update merchant references","tags":["Orders"]}},"/ordermanagement/v1/orders/{order_id}/refunds":{"post":{"description":"Create a refund","operationId":"refundOrder","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/RefundObject"}},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"201":{"description":"Refund created","headers":{"Location":{"description":"The URI at which the created refund can be found","format":"uri","type":"string"},"Refund-Id":{"description":"The id of the created refund","type":"string"}}},"403":{"description":"Refund not allowed","schema":{"$ref":"#/definitions/Refund not allowed error message"}},"404":{"description":"Order not found","schema":{"$ref":"#/definitions/Not found error message"}}},"summary":"Create a refund","tags":["Refunds"]}},"/ordermanagement/v1/orders/{order_id}/refunds/{refund_id}":{"get":{"description":"Get refund","operationId":"get","parameters":[{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"},{"name":"refund_id","in":"path","description":"Refund id","required":true,"type":"string"}],"responses":{"200":{"description":"Refund found.","schema":{"$ref":"#/definitions/Refund"}},"404":{"description":"Order or refund not found.","schema":{"$ref":"#/definitions/Not found error message"}}},"summary":"Get refund","tags":["Refunds"]}},"/ordermanagement/v1/orders/{order_id}/release-remaining-authorization":{"post":{"consumes":["*"],"description":"Release remaining authorization","operationId":"releaseRemainingAuthorization","parameters":[{"name":"Klarna-Idempotency-Key","in":"header","description":"This header will guarantee the idempotency of the operation. The key should be unique and is recommended to be a UUID version 4. Retries of requests are safe to be applied in case of errors such as network errors, socket errors and timeouts.","required":false,"type":"string"},{"name":"order_id","in":"path","description":"Order id","required":true,"type":"string"}],"responses":{"204":{"description":"Remaining authorization was released."},"403":{"description":"Can not release when order is cancelled or has no captures.","schema":{"$ref":"#/definitions/Not allowed error message"}}},"summary":"Release remaining authorization","tags":["Orders"]}}},"schemes":["https"],"securityDefinitions":{"basicAuth":{"type":"basic"}},"swagger":"2.0","tags":[{"name":"Captures"},{"name":"Orders"},{"name":"Refunds"}],"externalDocs":{"description":"Find out more about the Klarna REST APIs","url":"https://docs.klarna.com/api"}}